<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>BAKISMUN 2025 — Diplomacy OS</title>
<style>
  :root{
    --green:#00ff88;
    --bg:black;
  }
  html,body{height:100%}
  body{
    margin:0;
    font-family:"VT323", monospace;
    background: url('wallpaper.png') center/cover fixed var(--bg);
    color:var(--green);
    overflow:hidden;
  }

  /* Subtle CRT + grid */
  .overlay-scan{
    position:fixed; inset:0; pointer-events:none;
    background: repeating-linear-gradient(to bottom,
      rgba(0,255,136,.07) 0px,
      rgba(0,255,136,.03) 2px,
      transparent 3px);
    mix-blend-mode:screen;
  }
  .overlay-grid{
    position:fixed; inset:0; pointer-events:none;
    background-image:
      linear-gradient(rgba(0,255,136,.08) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,136,.08) 1px, transparent 1px);
    background-size: 40px 40px, 40px 40px;
    opacity:.14;
  }

  /* Desktop area */
  .desktop{
    position:absolute; inset:0 0 36px 0;
    padding:18px;
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    grid-auto-rows: 110px;
    gap:16px;
    align-content:start;
  }

  /* Icon */
  .icon{
    user-select:none;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:6px; cursor:pointer; text-align:center;
    color:var(--green);
    text-shadow:0 0 8px var(--green);
    border:1px solid transparent;
    transition:.15s;
    background:rgba(0,0,0,.25);
    border-radius:8px;
  }
  .icon:hover{ box-shadow:0 0 14px var(--green); border-color:var(--green) }
  .icon svg{ width:42px; height:42px; filter: drop-shadow(0 0 6px var(--green)); }

  /* Ticker */
  .ticker{
    position:absolute; left:18px; right:18px; bottom:48px;
    padding:6px 10px; background:rgba(0,0,0,.55);
    border:1px solid var(--green); box-shadow:0 0 10px var(--green);
    white-space:nowrap; overflow:hidden;
  }
  .ticker span{
    display:inline-block; padding-left:100%;
    animation:marq 18s linear infinite;
  }
  @keyframes marq{ from{transform:translateX(0)} to{transform:translateX(-100%)} }

  /* Windows */
  .window{
    position:absolute; top:120px; left:120px; width:360px; max-width:92vw;
    background:black; border:2px solid var(--green); display:none; flex-direction:column;
    box-shadow:0 0 16px var(--green);
  }
  .title-bar{
    background:#003322; color:var(--green);
    padding:6px 8px; display:flex; justify-content:space-between; align-items:center;
    cursor:move; font-size:18px; text-shadow:0 0 6px var(--green);
  }
  .title-left{display:flex; gap:10px; align-items:center}
  .btns{display:flex; gap:6px}
  .tb-btn{
    width:22px; height:22px; border:1px solid var(--green); background:black; color:var(--green);
    font-weight:bold; cursor:pointer;
  }
  .tb-btn:hover{ background:var(--green); color:black }
  .win-content{ padding:12px; font-size:16px; line-height:1.35; text-shadow:0 0 6px var(--green); }

  /* Taskbar */
  .taskbar{
    position:fixed; left:0; right:0; bottom:0; height:36px;
    background:black; border-top:2px solid var(--green); display:flex; align-items:center;
    gap:10px; padding:0 8px; color:var(--green); text-shadow:0 0 8px var(--green);
  }
  .start{
    background:black; border:2px solid var(--green); padding:3px 12px; cursor:pointer; font-weight:bold;
  }
  .start:hover{ background:var(--green); color:black }
  .clock{ margin-left:auto }

  /* Start menu */
  .menu{
    position:fixed; left:8px; bottom:40px; width:220px; background:black; border:2px solid var(--green);
    display:none; box-shadow:0 0 16px var(--green);
  }
  .menu a{
    display:block; padding:8px 10px; color:var(--green); text-decoration:none; border-bottom:1px solid rgba(0,255,136,.3);
  }
  .menu a:hover{ background:var(--green); color:black }

  /* --- Google Form CRT theming via filters --- */
  .crt-form-wrap{
    position:relative; height:100%; background:black; overflow:hidden;
  }
  .crt-form-wrap::after{ /* very subtle scanlines over iframe area */
    content:""; position:absolute; inset:0; pointer-events:none;
    background: repeating-linear-gradient(to bottom,
      rgba(0,255,136,.05) 0px,
      rgba(0,255,136,.02) 2px,
      transparent 3px);
    mix-blend-mode:screen;
  }
  .crt-form-iframe{
    width:100%; height:100%; border:0; margin:0; padding:0;
    /* Turn default white/purple Google Form into green-on-black */
    filter:
      invert(1)            /* white -> black */
      hue-rotate(120deg)   /* purple -> green */
      saturate(1.6)
      contrast(1.15)
      brightness(0.95);
    /* If something looks off on some devices, the Theme toggle removes this filter */
    background:black;
  }
  .native-form .crt-form-iframe{ filter:none !important; background:transparent }

  /* Mobile */
  @media (max-width:768px){
    .desktop{ grid-template-columns: repeat(4, 1fr); grid-auto-rows: 100px; gap:12px }
    .window{ left:10px !important; top:60px !important; width:calc(100vw - 20px) !important; }
  }
</style>
</head>
<body>

<div class="overlay-grid"></div>
<div class="overlay-scan"></div>

<!-- Desktop icons -->
<div class="desktop">

  <div class="icon" onclick="openWindow('secretariat')">
    <svg viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2">
      <path d="M4 4h12l4 4v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"/>
      <path d="M16 4v6H8V4"/>
      <rect x="8" y="14" width="8" height="6"/>
    </svg>
    Secretariat
  </div>

  <div class="icon" onclick="openWindow('committees')">
    <svg viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2">
      <path d="M8 6h10a2 2 0 0 1 2 2v8H9a3 3 0 0 1-3-3V6z"/>
      <path d="M8 6a2 2 0 1 0-4 0v7a3 3 0 0 0 3 3"/>
      <path d="M16 13H9m7-3H9"/>
    </svg>
    Committees
  </div>

  <div class="icon" onclick="openWindow('applications')">
    <svg viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2">
      <path d="M9 2h6l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h3z"/>
      <path d="M14 2v6h6"/>
      <path d="M8 13h8M8 17h8M8 9h4"/>
    </svg>
    Apply
  </div>

  <div class="icon" onclick="openWindow('contact')">
    <svg viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2">
      <path d="M12 19V8"/>
      <circle cx="12" cy="5" r="2"/>
      <path d="M5 8a7 7 0 0 1 14 0M3 10a9 9 0 0 1 18 0M1 12a11 11 0 0 1 22 0"/>
    </svg>
    Contact
  </div>

</div>

<!-- Quote ticker -->
<div class="ticker">
  <span id="tickerText">
    “Seek Diplomacy, Find Peace.” • “Let us never negotiate out of fear. But let us never fear to negotiate.” •
    “In the arena of diplomacy, words are weapons sharper than swords.” • “Peace is not the absence of conflict, but the ability to resolve it.” 
    • “Diplomacy is the art of telling people to go to hell in such a way that they ask for directions.” • “The supreme art of war is to subdue the enemy without fighting.”
  </span>
</div>

<!-- Secretariat window -->
<div id="secretariat" class="window" style="top:110px;left:80px;width:420px">
  <div class="title-bar">
    <div class="title-left">Secretariat</div>
    <div class="btns">
      <button class="tb-btn" onclick="minimize('secretariat')">–</button>
      <button class="tb-btn" onclick="closeWindow('secretariat')">X</button>
    </div>
  </div>
  <div class="win-content">
    <p>[ SECRETARY-GENERAL ] — Name, short bio.</p>
    <p>[ DSG ] — Name, short bio.</p>
    <p>[ USG COMMS ] — Name, short bio.</p>
  </div>
</div>

<!-- Committees window -->
<div id="committees" class="window" style="top:160px;left:180px;width:460px">
  <div class="title-bar">
    <div class="title-left">Committees & Agendas</div>
    <div class="btns">
      <button class="tb-btn" onclick="minimize('committees')">–</button>
      <button class="tb-btn" onclick="closeWindow('committees')">X</button>
    </div>
  </div>
  <div class="win-content">
    <p>GA — Topic A / Topic B</p>
    <p>UNSC — Topic A / Topic B</p>
    <p>WHO — Topic A / Topic B</p>
  </div>
</div>

<!-- Applications window with CRT-styled Google Form -->
<div id="applications" class="window" style="top:210px;left:70px;width:700px;height:600px;max-width:95vw;max-height:80vh;">
  <div class="title-bar">
    <div class="title-left">
      Applications
      <button class="tb-btn" style="margin-left:8px" onclick="toggleFormTheme()" title="Toggle Form Theme">Theme</button>
    </div>
    <div class="btns">
      <button class="tb-btn" onclick="minimize('applications')">–</button>
      <button class="tb-btn" onclick="closeWindow('applications')">X</button>
    </div>
  </div>
  <div class="win-content" style="padding:0;height:100%;display:flex;flex-direction:column;">
    <div id="formWrap" class="crt-form-wrap">
      <iframe 
        class="crt-form-iframe"
        src="https://docs.google.com/forms/d/e/1FAIpQLSeZ1MpdVuYKYCN_c0ca3INQ3gfBtR53WFlSDqyjbojAMadMDw/viewform?embedded=true" 
        frameborder="0" marginheight="0" marginwidth="0">
        Loading…
      </iframe>
    </div>
  </div>
</div>

<!-- Contact window -->
<div id="contact" class="window" style="top:80px;left:520px;width:360px">
  <div class="title-bar">
    <div class="title-left">Contact</div>
    <div class="btns">
      <button class="tb-btn" onclick="minimize('contact')">–</button>
      <button class="tb-btn" onclick="closeWindow('contact')">X</button>
    </div>
  </div>
  <div class="win-content">
    <p>Email: example@bakismun.org</p>
    <p>Instagram: @bakismun</p>
    <p>Discord: discord.gg/example</p>
  </div>
</div>

<!-- Taskbar -->
<div class="taskbar">
  <button class="start" onclick="toggleMenu()">[ BAKISMUN ]</button>
  <div class="clock" id="clock"></div>
</div>

<!-- Start Menu -->
<div class="menu" id="menu">
  <a href="#" onclick="openWindow('secretariat');toggleMenu()">Secretariat</a>
  <a href="#" onclick="openWindow('committees');toggleMenu()">Committees</a>
  <a href="#" onclick="openWindow('applications');toggleMenu()">Applications</a>
  <a href="#" onclick="openWindow('contact');toggleMenu()">Contact</a>
</div>

<script>
  function openWindow(id){
    const w = document.getElementById(id);
    w.style.display = 'flex';
    bringToFront(w);
    centerOnMobile(w);
    makeDraggable(w);
  }
  function closeWindow(id){ document.getElementById(id).style.display='none' }
  function minimize(id){ document.getElementById(id).style.display='none' }

  // z-index
  let zTop = 10;
  function bringToFront(el){ el.style.zIndex = ++zTop }

  // draggable
  function makeDraggable(win){
    const bar = win.querySelector('.title-bar');
    if(bar._dragBound) return;
    let dx=0, dy=0, dragging=false;
    const down = (e)=>{
      dragging=true; bringToFront(win);
      const rect = win.getBoundingClientRect();
      dx = (e.touches?e.touches[0].clientX:e.clientX) - rect.left;
      dy = (e.touches?e.touches[0].clientY:e.clientY) - rect.top;
      document.addEventListener('mousemove', move);
      document.addEventListener('mouseup', up);
      document.addEventListener('touchmove', move, {passive:false});
      document.addEventListener('touchend', up);
    };
    const move = (e)=>{
      if(!dragging) return;
      const x = (e.touches?e.touches[0].clientX:e.clientX) - dx;
      const y = (e.touches?e.touches[0].clientY:e.clientY) - dy;
      win.style.left = x + 'px';
      win.style.top  = y + 'px';
      e.preventDefault?.();
    };
    const up = ()=>{
      dragging=false;
      document.removeEventListener('mousemove', move);
      document.removeEventListener('mouseup', up);
      document.removeEventListener('touchmove', move);
      document.removeEventListener('touchend', up);
    };
    bar.addEventListener('mousedown', down);
    bar.addEventListener('touchstart', down, {passive:true});
    bar._dragBound = true;
  }

  function centerOnMobile(win){
    if(window.innerWidth < 768){
      win.style.left = '10px';
      win.style.top  = '60px';
      win.style.width = (window.innerWidth - 20) + 'px';
      win.style.height = (window.innerHeight - 120) + 'px';
    }
  }

  // Start menu
  function toggleMenu(){
    const m = document.getElementById('menu');
    m.style.display = (m.style.display==='block') ? 'none' : 'block';
  }
  document.addEventListener('click', (e)=>{
    const m = document.getElementById('menu');
    if(m.style.display==='block' && !e.target.closest('#menu') && !e.target.closest('.start')){
      m.style.display='none';
    }
  });

  // Clock
  function tick(){
    const now = new Date();
    document.getElementById('clock').textContent =
      now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
  }
  setInterval(tick,1000); tick();

  // Toggle Google Form theme (CRT vs Native)
  function toggleFormTheme(){
    const wrap = document.getElementById('formWrap');
    wrap.classList.toggle('native-form');
  }
</script>
</body>
</html>
